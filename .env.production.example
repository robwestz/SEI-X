# SIE-X Production Environment Configuration
#
# SECURITY CRITICAL: Update ALL secrets before deployment!
#
# Quick setup:
# 1. cp .env.production.example .env.production
# 2. Run: ./scripts/generate_secrets.sh >> .env.production
# 3. Update ALLOWED_ORIGINS, TRUSTED_HOSTS, DB_URL, REDIS_URL
# 4. Review all settings
# 5. Deploy

# =============================================================================
# APPLICATION
# =============================================================================
SIE_X_ENV=production
SIE_X_DEBUG=false
SIE_X_HOST=0.0.0.0
SIE_X_PORT=8000
SIE_X_WORKERS=4
SIE_X_LOG_LEVEL=INFO
SIE_X_LOG_JSON=true

# =============================================================================
# DATABASE (PostgreSQL) - REQUIRED
# =============================================================================
# SECURITY: Use strong password, enable SSL
SIE_X_DB_URL=postgresql://siex_app:CHANGE_ME_STRONG_PASSWORD@db.internal:5432/siex_production
SIE_X_DB_POOL_SIZE=20
SIE_X_DB_MAX_OVERFLOW=40
SIE_X_DB_SSL_MODE=require

# =============================================================================
# REDIS CACHE - REQUIRED in production
# =============================================================================
# SECURITY: Use strong password, enable SSL
SIE_X_REDIS_URL=redis://redis.internal:6379/0
SIE_X_REDIS_PASSWORD=CHANGE_ME_STRONG_PASSWORD
SIE_X_REDIS_SSL=true

# =============================================================================
# AUTHENTICATION & SECURITY - CRITICAL
# =============================================================================
# JWT Secret - Generate with: openssl rand -base64 48
# SECURITY: MUST be at least 32 characters, store securely
SIE_X_JWT_SECRET=CHANGE_ME_GENERATE_WITH_OPENSSL_RAND_BASE64_48_AT_LEAST_32_CHARS

SIE_X_JWT_ALGORITHM=HS256
SIE_X_TOKEN_EXPIRY=3600

# =============================================================================
# CORS - CRITICAL
# =============================================================================
# SECURITY: ONLY list your actual frontend domains. NO wildcards!
# Example: https://app.yourcompany.com,https://admin.yourcompany.com
SIE_X_ALLOWED_ORIGINS=https://app.yourcompany.com

# =============================================================================
# RATE LIMITING - STRICT
# =============================================================================
SIE_X_RATE_LIMIT_HOUR=100
SIE_X_RATE_LIMIT_MINUTE=10
SIE_X_RATE_LIMIT_SKIP_IF_UNAVAILABLE=false

# =============================================================================
# SECURITY - ALL ENABLED
# =============================================================================
SIE_X_HTTPS_ONLY=true
SIE_X_ENFORCE_QUOTAS=true

# Trusted hosts (your API domain)
SIE_X_TRUSTED_HOSTS=api.yourcompany.com

# Content Security Policy
SIE_X_CSP=default-src 'self'; script-src 'self' cdn.jsdelivr.net; style-src 'self' cdn.jsdelivr.net; img-src 'self' data:;

# =============================================================================
# FILE UPLOADS
# =============================================================================
SIE_X_MAX_FILE_SIZE=5242880
SIE_X_MAX_REQUEST_SIZE=10485760

# =============================================================================
# LANGUAGE MODELS
# =============================================================================
SIE_X_SPACY_MODEL_EN=en_core_web_sm
SIE_X_SPACY_MODEL_SV=sv_core_news_sm

# =============================================================================
# MONITORING (Optional)
# =============================================================================
# SENTRY_DSN=https://...
# PROMETHEUS_PORT=9090
